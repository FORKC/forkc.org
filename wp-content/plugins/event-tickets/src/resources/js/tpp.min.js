var tribe_tickets_tpp={num_attendees:0,event:{}};!function(i,s){"use strict";s.init=function(){this.$rsvp=i(".tribe-events-tickets-rsvp"),this.attendee_template=i(document.getElementById("tribe-tickets-tpp-tmpl")).html(),this.$rsvp.on("change",".tribe-ticket-quantity",this.event.quantity_changed),this.$rsvp.closest(".cart").on("submit",this.event.handle_submission),i(".tribe-rsvp-list").on("click",".attendee-meta-row .toggle",function(){i(this).toggleClass("on").siblings(".attendee-meta-details").slideToggle()})},s.quantity_changed=function(t){var e=t.closest(".tribe-events-tickets-tpp");parseInt(t.val(),10)?e.addClass("tribe-tickets-has-tpp"):e.removeClass("tribe-tickets-has-tpp")},s.validate_submission=function(){var t=i(document.getElementById("tribe-tickets-full-name")),e=i(document.getElementById("tribe-tickets-email"));return!(!i.trim(t.val()).length||!i.trim(e.val()).length)},s.event.quantity_changed=function(){s.quantity_changed(i(this))},s.event.handle_submission=function(t){if(!s.validate_submission()){t.preventDefault();var e=i(this).closest("form");return e.addClass("tribe-tpp-message-display"),e.find(".tribe-tpp-message-confirmation-error").show(),i("html, body").animate({scrollTop:e.offset().top},300),!1}},i(function(){s.init()})}(jQuery,tribe_tickets_tpp);
var tco="object"==typeof tco?tco:{};tco.xValidationData=function(e){var t={};function n(o){if(t[o])return t[o].exports;var a=t[o]={i:o,l:!1,exports:{}};return e[o].call(a.exports,a,a.exports,n),a.l=!0,a.exports}return n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)n.d(o,a,function(t){return e[t]}.bind(null,a));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=36)}({0:function(e,t){e.exports=window.jQuery},2:function(e,t){e.exports=window.tco},36:function(e,t,n){"use strict";n.r(t);var o=n(0),a=n.n(o),i=n(2),r=n.n(i),c=window.xValidationData;r.a.addDataSource(c),function(){if(c.modules&&c.notices)for(var e in c.modules){var t=c.modules[e];if(t.notices)for(var n in t.notices)-1!==c.notices.indexOf(n)&&r.a.showNotice(t.notices[n])}}(),r.a.addModule("x-auto-configure-cornerstone",function(e,t,n){var o=e.data("tco-module-state");function a(e){r.a.ajax({action:"x_auto_activate_cornerstone",done:"function"==typeof e?e:c,fail:i})}function i(e){if(!e||!e.message){var t={message:n.errors[o]||n.errors.install};e.status&&e.statusText&&(t.errorDetails=e.status+" "+e.statusText),e=t}c(e)}function c(e){if(e){if(e.message)var t=r.a.showNotice(e.message);t&&e.errorDetails&&t.find("[data-tco-error-details]").on("click",function(t){t.preventDefault(),r.a.confirm({message:e.errorDetails,acceptBtn:"",declineBtn:n.errorBack,class:"tco-confirm-error"})})}}"install"===o&&r.a.ajax({action:"x_auto_install_cornerstone",done:function(e){a(function(){c(e)})},fail:i}),"activate"===o&&a()}),r.a.addModule("x-validation",function(e,t,n){var o=t.message||!1,i=t.button||!1,c=t.overlay||!1,s=t.input||!1,l=t.form||!1,u=t["preload-key"]||!1;if(o&&i&&c&&s&&l&&u){l.on("submit",function(t){t.preventDefault(),s.prop("disabled",!0),e.tcoShowMessage(n.verifying),r.a.ajax({action:"x_validation",code:s.val(),done:f,fail:m})});var d=u.val();"string"==typeof d&&d.length>1&&(s.val(d),l.submit()),a()("body").on("click",'a[data-tco-focus="validation-input"]',function(e){e.preventDefault(),s.focus()})}function f(t){if(!t.message)return m(t);t.complete?(e.tcoShowMessage(t.message),setTimeout(p,2500)):g(t)}function g(t){o.html(t.message),i.html(t.button);setTimeout(function(){e.tcoShowMessage("")},1300),setTimeout(function(){c.addClass("tco-active")},1950),t.url?(i.attr("href",t.url),t.newTab&&i.attr("target","_blank")):i.attr("href","#"),i.off("click"),t.dismiss&&i.on("click",function(){c.removeClass("tco-active"),e.tcoRemoveMessage(),setTimeout(function(){s.val("").prop("disabled",!1)},1300)})}function p(){var e=r.a.queryString.parse(window.location.search);delete e["tco-key"],e.notice="validation-complete",window.location.search=r.a.queryString.stringify(e)}function m(e){var t=e.message?e.message:e;t.responseText&&(t=t.responseText),g({message:n.error,button:n.errorButton,dismiss:!0}),o.find("[data-tco-error-details]").on("click",function(e){e.preventDefault(),r.a.confirm({message:t,acceptBtn:"",declineBtn:n.errorButton,class:"tco-confirm-error"})}),console.log(e)}}),r.a.addModule("x-validation-revoke",function(e,t,n){var o=t.revoke||!1;function a(){var e=r.a.queryString.parse(r.a.queryString.extract(window.location.href));delete e["tco-key"],e.notice="validation-revoked",window.location.search=r.a.queryString.stringify(e)}o&&o.on("click",function(){r.a.confirm({message:n.confirm,acceptClass:"tco-btn-nope",acceptBtn:n.accept,declineBtn:n.decline,accept:function(){o.removeAttr("href"),o.html(n.revoking),r.a.ajax({action:"x_validation_revoke",done:a,fail:a})}})})}),r.a.addModule("x-automatic-updates",function(e,t,n){var o=t["check-now"]||!1,a=t["latest-available"]||!1;o&&a&&(n.latest&&a.html(n.latest),o.find("a").on("click",function(e){e.preventDefault(),o.html(n.checking),r.a.ajax({action:"x_update_check",done:function(e){e.latest&&e.latest!==n.latest?(o.html(n.completeNew),a.html(e.latest)):o.html(n.complete)},fail:function(e){console.warn("X Update Check Error",e),o.html(n.error)}})}))}),r.a.addModule("x-theme-options-manager",function(e,t,n){var o=t["import-form"]||!1,a=t["import-file"]||!1,i=t.export||!1,c=t.reset||!1;function s(t){r.a.confirm({message:n.importConfirm,acceptClass:"tco-btn-nope",acceptBtn:n.yep,declineBtn:n.nope,accept:function(){!function(t){e.tcoShowMessage(n.importBegin);var o=new FileReader;o.onload=function(){try{JSON.parse(o.result),function(t){r.a.ajax({action:"x_theme_options_manager_import",import:t,done:function(){e.tcoShowMessage(n.importSuccess,2500),l()},fail:function(t){console.warn("X Customizer Import Error",t),e.tcoShowMessage(n.importError,2500),l()}})}(o.result)}catch(t){e.tcoShowMessage(n.importError,2500),console.log("X Customizer Manager Import Error",t)}};try{o.readAsText(t)}catch(t){e.tcoShowMessage(n.importError,2500),console.log("X Customizer Manager Import Error",t)}}(t)},decline:function(){l()}})}function l(){a[0].value="",a[0].type="",a[0].type="file"}o&&a&&i&&c&&(i.on("click",function(){e.tcoShowMessage(n.export,1500)}),!function(){var e=document.createElement("div");return("draggable"in e||"ondragstart"in e&&"ondrop"in e)&&"FormData"in window&&"FileReader"in window}()?e.tcoShowMessage(n.useModernBrowser,2500):(o.on("drag dragstart dragend dragover dragenter dragleave drop",function(e){e.preventDefault(),e.stopPropagation()}).on("dragover dragenter",function(){o.addClass("tco-dragover")}).on("dragleave dragend drop",function(){o.removeClass("tco-dragover")}).on("drop",function(e){s(e.originalEvent.dataTransfer.files[0])}),a[0].onchange=function(){s(this.files[0])}),c.on("click",function(t){t.preventDefault(),r.a.confirm({message:n.resetConfirm,acceptClass:"tco-btn-nope",acceptBtn:n.yep,declineBtn:n.nope,accept:function(){e.tcoShowMessage(n.resetBegin),r.a.ajax({action:"x_theme_options_manager_reset",done:function(){e.tcoShowMessage(n.resetSuccess,2500)},fail:function(t){console.warn("X Customizer Reset Error",t),e.tcoShowMessage(n.resetError,2500)}})}})}))}),r.a.addModule("x-extension",function(e,t,n){var o=t.manage||!1,a=e.attr("id");if(o&&a){var i=n.extensions.find(function(e){return a===e.slug})||n.approvedPlugins.find(function(e){return a===e.slug});if(i)if(i.activated)o.html(n.activated).addClass("tco-btn-yep tco-btn-disabled");else{i.installed&&o.html(n.activate),window._xExtensionQueue||(window._xExtensionQueue={running:!1,queue:[]}),o.on("click",function(){o.prop("disabled",!0);var t="install";i.installed&&(t="activate");i.activated&&(t="deactivate");window._xExtensionQueue.running?(e.tcoShowMessage(c[t]),window._xExtensionQueue.queue.unshift(s[t])):(s[t](),window._xExtensionQueue.running=!0)});var c={install:n["waiting-to-install"],activate:n["waiting-to-activate"]},s={install:function(){e.tcoShowMessage(n.installing);r.a.ajax({action:"x_extensions_install",slug:i.slug,done:function(){o.html(n.activate),e.tcoRemoveMessage(!1,function(){e.removeClass("tco-extension-not-installed").addClass("tco-extension-installed")}),i.installed=!0,l()},fail:u})},activate:function(){e.tcoShowMessage(n.activating);r.a.ajax({action:"x_extensions_activate",plugin:i.plugin,done:function(t){console.log("Installed",t),o.html(n.installed),e.tcoRemoveMessage(!1,function(){o.html(n.activated).addClass("tco-btn-yep tco-btn-disabled")}),i.activated=!0,l()},fail:u})}}}}function l(){0<window._xExtensionQueue.queue.length?window._xExtensionQueue.queue.pop()():window._xExtensionQueue.running=!1}function u(t){var o=t.message?t.message:t;o.responseText&&(o=o.responseText),e.tcoShowErrorMessage(n.error,o),console.log(t),l()}})}});
//# sourceMappingURL=x-validation.js.map